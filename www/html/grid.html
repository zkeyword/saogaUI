<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>测试页面</title>
<!-- <link rel="stylesheet/less" type="text/less" href="../less/styles.less">
 --><link rel="stylesheet" type="text/css" href="../../build/css/styles.css">
<script src="../js/lib/jquery-1.8.3.min.js"></script>
<script data-main="../js/common2" src="../js/lib/require.js"></script>
<script src="../temp/CustomersData.js"></script>
 </head>
<body>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<p>xxxxxx</p>
	<div class="fn-clear">
		<span class="fn-left">sssssssssssssssssssss</span>
		<div id="dd" class="fn-left" style="width:80%"><div id="grid1"></div></div>
	</div>
	
	<a id="btn" href="#">dddddd</a>
	<script type="text/html" id="btnHtml">
		<div class="fn-clear ui-pt10 ui-pl10">
			<div class="ui-btn-dropdown">
				<span class="ui-btn ui-btn-default">下拉</span>
				<i class="ui-btn-dropdown-icon icon icon-angle-down"></i>
				<ul class="ui-btn-dropdown-menu fn-hide">
					<li>选项一</li>
					<li>选项二</li>
					<li>选项三</li>
				</ul>
			</div>
		</div>
	</script>
	<script>
		require(['app/main'], function(saogaUI){
		
			
			var grid = saogaUI.ui.grid({
				wrap:'#grid1',
				//data:CustomersData,
				id:'grid_isHideColumns',
				isHideColumns: true,
				pageAjax:{
					url: 'http://127.0.0.1/saogaUI/www/temp/grid.php',
					data:'index={{index}}',
					success:function(){
						//console.log(grid)
					}
				},
				isMemory:true,
                isSort:true,
				width:500,
				pageSize:4,
				initSelected:function(data){
					if( data.name == '张三1' ){
						return true;
					}
				},
				/**/
				data:{
					rows:[
						{id:1,name:'xxx',children:[{id:1},{id:1},{id:1},{id:1}]},
						{id:1,name:'xxx2'},
						{id:1,name:'xxx3',children:[{id:1},{id:1},{id:1},{id:1}]},
						{id:1,name:'xxx4'},
						{id:1,name:'xxx5',children:[{id:1},{id:1},{id:1},{id:1}]},
						{id:1,name:'xxx6'},
						{id:1,name:'xxx7',children:[{id:1},{id:1},{id:1},{id:1}]},
						{id:1,name:'xxx8',children:[{id:1},{id:1},{id:1},{id:1}]},
						{id:1,name:'xxx9'},
						{id:1,name:'xxx10'},
						{id:1,name:'xxx11'},
						{id:1,name:'xxx12',children:[{id:1},{id:1},{id:1},{id:1}]},
						{id:1,name:'xxx13'},
						{id:1,name:'xxx14',children:[{id:1},{id:1},{id:1},{id:1}]},
						{id:1,name:'xxx15'},
						{id:1,name:'xxx16',children:[{id:1},{id:1},{id:1},{id:1}]},
						{id:1,name:'xxx17',children:[{id:1},{id:1},{id:1},{id:1}]},
						{id:1,name:'xxx18'},
						{id:1,name:'xxx19'}
					],
					total:20
				},
				//checkbox:false,
				//pageSizeOptions:null,
				columns: [
					{ display: '表头0', name: 'title', width: 121, render: function(rdata, rindex, value){
							var h = '<a href="javascript:;" class="ui-btn ui-btn-primary" data-id="1" onclick="openUserPage(1)">修改</a>';
							return h;
						}
					},
					{ display: '姓名', name: 'name', width: 150},
					{ display: 'id2', name: 'id', width: 150},
					{ display: '表头3', name: '', width: 150},
					{ display: '表头4', name: '', width: 150},
					{ display: '表头5', name: '', width: 150},
					{ display: '表头6', name: '', width: 150},
					{ display: '表头7', name: '', width: 150},
					{ display: '表头8', name: '', width: 150},
					{ display: '表头9', name: '', width: 150},
					{ display: '表头10', name: '', width: 150},
					{ display: '表头11', name: '', width: 150, render: function(rdata, rindex, value){
							return saogaUI.template('btnHtml',rdata);
						}

					}
				],
				/*detail:{
					height:'auto',
					render:function(rdata){
						if( rdata.children ){
							return rdata.children[0].id +'<br>sssssssssssss<br><br>';
						}
						return '暂无数据';
					}
				},*/
				onPageFn: function(){
					//var s = grid.getSelectData();
					//console.log(s)
				}
			});
			
			grid.refresh({
				pageAjax:{
					data:'index11={{index}}',
					success:function(){
						console.log(grid)
					}
				}
			});
			
			grid.methos.alert = function(){
			//	console.log(this)
			}

			grid.methos.alert();
			//saogaUI.ui.grid.prototype.alert();			
			
			$('#btn').click(function(){
                /*var width = $('#dd').width();
				$('#dd').width( width - 400 );
				grid.refresh({
					pageAjax:{
						data:'index11={{index}}'
					}
				});*/
                grid.uncheckRow(0,1)
			})
			
			$(window).click(function(){
				//console.log(1)
			})
			
		});
	</script>
</body>
</html>