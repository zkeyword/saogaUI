!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():t.baiduMap=n()}(this,function(){var t=function(t){var n=new BMap.Map(t.target),o=t.point,i=t.pointWindow,e=t.pointClick?t.pointClick:null,a=[],p=[],s=[],c=function(t,n,o,a,p){o.addEventListener("click",function(o){t.openInfoWindow(new BMap.InfoWindow(n,i),a),"[object Function]"===Object.prototype.toString.call(e)&&e(p)})};n.centerAndZoom(new BMap.Point(t.basePoint[0],t.basePoint[1]),t.zoom);for(var r=0;r<o.length;r++){var f=new BMap.Point(o[r][0],o[r][1]),u=new BMap.Icon("/static/asset/dest/img/map/"+(r+1)+".png",new BMap.Size(18,26)),h=new BMap.Marker(f,{icon:u,width:300}),m=o[r][2];n.addOverlay(h),a.push(h),p.push(f),s.push(m),c(n,m,h,f,r)}this.map=n,this.marker=a,this.point=p,this.opts=i,this.content=s};return t.prototype.setAnimation=function(t){var n=this.map,o=this.marker,i=this.point,e=this.content,a=o[t],p=(i[t],e[t],this.opts,!1),s=function(){for(var t=0,i=o.length;i>t;t++)o[t].setAnimation(),p=!1;n.closeInfoWindow()},c=function(){p?(a.setAnimation(),p=!1):(p=!0,s(),a.setAnimation(BMAP_ANIMATION_BOUNCE))};return c()},t.prototype.setZoom=function(t,n,o){this.map.setCenter(new BMap.Point(t,n)),this.map.setZoom(o)},t.prototype.click=function(t,n){var o=this;t.onclick=function(){o.setAnimation(n)}},function(n){return n?new t(n):{}}});